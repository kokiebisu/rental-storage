Type: "AWS::SNS::Subscription"
DependsOn:
  - ListingSQSQueue
  - SNSTopicItemCreated
Properties:
  Protocol: sqs
  TopicArn:
    Fn::Join:
      - ":"
      - - "arn:aws:sns"
        - !Ref "AWS::Region"
        - !Ref "AWS::AccountId"
        - ${self:custom.namespace}-item-${self:provider.stage}-ItemCreated
  Endpoint:
    Fn::Join:
      - ":"
      - - "arn:aws:sqs"
        - !Ref "AWS::Region"
        - !Ref "AWS::AccountId"
        - ${self:custom.namespace}-listing-${self:provider.stage}-queue
