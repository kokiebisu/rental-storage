Type: "AWS::SQS::Queue"
DependsOn: PaymentDLQueue
Properties:
  QueueName: ${self:provider.stage}-${self:custom.namespace}-payment-queue
  VisibilityTimeout: 930
  RedrivePolicy:
    deadLetterTargetArn:
      Fn::Join:
        - ":"
        - - "arn:aws:sqs"
          - ${aws:region}
          - ${aws:accountId}
          - ${self:provider.stage}-${self:custom.namespace}-payment-dead-letter-queue
    maxReceiveCount: 3
