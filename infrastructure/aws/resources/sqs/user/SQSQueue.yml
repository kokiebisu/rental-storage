Type: "AWS::SQS::Queue"
DependsOn: UserSQSDLQueue
Properties:
  QueueName: "${self:custom.namespace}-user-${self:provider.stage}-queue"
  VisibilityTimeout: 930
  RedrivePolicy:
    deadLetterTargetArn:
      Fn::Join:
        - ":"
        - - "arn:aws:sqs"
          - ${aws:region}
          - ${aws:accountId}
          - "${self:custom.namespace}-user-${self:provider.stage}-dead-letter-queue"
    maxReceiveCount: 3
